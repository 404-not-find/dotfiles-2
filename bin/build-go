#!/bin/sh

export GOROOT_BOOTSTRAP=/data/languages/go-bootstrap

cd $GOROOT/src

if [[ $1 == '-f' ]]; then
    echo '[!] Force building..'
else
    echo '[*] Looking for changes..'
    git pull | grep 'Already up-to-date.' && echo '[!] Nothing to do.' && exit 1
fi

echo '[*] Start compiling..'
./all.bash
echo '[*] Finished.'
