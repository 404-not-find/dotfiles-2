#!/bin/bash

IFS=$'\n'
red='\e[0;31m'
green='\e[0;32m'
nc='\e[0m'

function longest ()
{
    #mount | cut -d' ' -f"$1" | while read x; do echo ${#x}; done | sort -n | tail -1
    mount | awk '{print length($'$1')}' | sort -n | tail -1
}

function column ()
{
    for i in $(echo "$x" | cut -d' ' -f"$1");
    do
        length=${#i}
        if [[ "$length" -le "${2}" ]];
        then
            sub=$(( ${2} - $length ))
            p=$(printf "%${sub}s")
            echo -n "$i $p   "
        fi
    done
}

for x in $(mount | sort);
do
    [[ "${x##/dev}" != "$x" ]] && echo -ne "$green" || echo -ne "$red"

    for i in {1,3,5,6};
    do
        column $i $(longest $i)
    done

    echo -e "$nc"
done
