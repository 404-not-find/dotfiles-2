#!/bin/bash

cd /data/languages/rust

if [[ $1 != '-n' ]]; then
    git pull | grep 'Already up-to-date.' && echo 'Nothing to do.' && exit 1
fi

./configure \
    --prefix=$HOME/local \
    --disable-optimize-tests \
    --disable-debug \
    --enable-fast-make \
    --enable-clang \
    --enable-ccache \
    --enable-local-rust
make
make install
